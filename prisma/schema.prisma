generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Comment {
  author_id     Int
  content       String?
  id            Int            @default(autoincrement()) @id
  post_id       Int
  author        User           @relation(fields: [author_id], references: [id])
  post          Post           @relation(fields: [post_id], references: [id])
  comment_claps Comment_Clap[]
}

model Comment_Clap {
  author_id  Int
  comment_id Int
  id         Int     @default(autoincrement()) @id
  author     User    @relation(fields: [author_id], references: [id])
  comment    Comment @relation(fields: [comment_id], references: [id])
}

model Post {
  attatchment_url String?   @unique
  author_id       Int
  content         String
  id              Int       @default(autoincrement()) @id
  author          User      @relation(fields: [author_id], references: [id])
  comments        Comment[]
  claps           Post_Clap[]
  post_tags       Post_Tag[]
}

model Post_Clap {
  author_id Int
  id        Int  @default(autoincrement()) @id
  post_id   Int
  author    User @relation(fields: [author_id], references: [id])
  post      Post @relation(fields: [post_id], references: [id])
}

model Post_Tag {
  id      Int  @default(autoincrement()) @id
  post_id Int
  tag_id  Int
  post    Post @relation(fields: [post_id], references: [id])
  tag     Tag  @relation(fields: [tag_id], references: [id])
}

model Tag {
  id        Int        @default(autoincrement()) @id
  tag       String?
  post_tags Post_Tag[]
}

model User {
  email           String
  first           String
  id              Int            @default(autoincrement()) @id
  last            String
  location        String
  password        String
  phone           String
  profile_pic_url String
  username        String         @unique
  comments        Comment[]
  comment_claps   Comment_Clap[]
  posts           Post[]
  post_claps      Post_Clap[]
}